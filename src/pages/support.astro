---
import Layout from '../layouts/Layout.astro';
import TrackPageView from '../components/TrackPageView.astro'
---

<Layout>
        <section class="wrapper white">
            <div class="grid gap banner">
                <div class="l-8 m-8 s-12">
                    <div class="crumpbet">
                        <span><a href="#">Support</a></span>
                        <span></span>
                    </div>
                    <h1 class="l-txt">How to Support the
                        Men's Shed Townsville</h1>
                    <p>The Men's Shed Townsville runs on community spirit, skilled
                        hands, and the generous support of people like you. Every
                        donation, service, and shared resource helps us keep the shed
                        open, the tools turning, and the blokes connected.</p>
                </div>
            </div>
       

  
            <div class="grid gap">
                <div class="l-6 m-6 s-12 grid center-center">Image</div>
                <div class="l-6 m-6 s-12">
                    <h2 class="m-txt">Ways you can help</h2>
                    <ul class="support-list">
                        <li>
                            <strong>Make a Donation</strong><br />
                            Every dollar helps us buy materials, maintain tools, and keep the lights on.
                        </li>
                        <li>
                            <strong>Become a Sponsor</strong><br />
                            Support local men’s mental health and community work while promoting your business.
                        </li>
                        <li>
                            <strong>Donate Tools or Materials</strong><br />
                            Quality tools, timber, and hardware are always needed and appreciated.
                        </li>
                        <li>
                            <strong>Join a Fundraiser</strong><br />
                            Get involved in BBQs, raffles, and events that help keep the shed running.
                        </li>
                        <li>
                            <strong>Fund a Project or Workshop</strong><br />
                            Help us deliver free training, repair services, or build items for the community.
                        </li>
                        <li>
                            <strong>Spread the Word</strong><br />
                            Share our work, attend events, or refer someone who might benefit from the shed.
                        </li>
                    </ul>
                </div>
            </div>
    

   

            <h2 class="m-txt">Thank to our sponsers and supporters</h2>
            <p>We’re proud to be backed by local businesses, councils, and community
                members who believe in the power of mateship, hands-on work, and giving
                back.</p>

                <div class="carousel-group">
                    <div class="carousel-wrapper" data-autoplay="true">
                        <button class="nav prev">&#10094;</button>
                        <div class="carousel-track-wrapper">
                            <div class="carousel-track">
                                <!-- Slides here -->
                                <div class="slide"><img src="/images/sponsors/bunnings_warehouse.svg" alt="Bunnings Warehouse" /></div>
                                <div class="slide"><img src="/images/sponsors/Cadbury.svg" alt="Cadbury Chocolate" /></div>
                                <div class="slide"><img src="/images/sponsors/townsville-city-council.png" alt="Townsville City Council" /></div>
                                <div class="slide"><img src="/images/sponsors/sunvale-meats.jpg" alt="Sunvale Meats Townsville" /></div>
                                <div class="slide"><img src="/images/sponsors/rotary-international.jpg" alt="Rotary Australia" /></div>
                                <div class="slide"><img src="/images/sponsors/Lions.jpg" alt="Lions Australia" /></div>
                                <div class="slide"><img src="/images/sponsors/ces-civi.svg" alt="C-E-S Civi" /></div>
                                <div class="slide"><img src="/images/sponsors/4wd-central.jpg" alt="4WD Central" /></div>
                                <div class="slide"><img src="/images/sponsors/townsville-barbecue-battle.jpg" alt="Townsville Barbecue Battle" /></div>
                            </div>
                        </div>
                        <button class="nav next">&#10095;</button>
                    </div>
                        </div>




                    <script>
                        function initCarousel(wrapper, options = {}) {
                            const track = wrapper.querySelector('.carousel-track');
                            const slides = wrapper.querySelectorAll('.slide');
                            const prev = wrapper.querySelector('.prev');
                            const next = wrapper.querySelector('.next');

                            let currentIndex = 0;
                            let autoplayInterval = null;

                            // Config
                            const autoplay = wrapper.dataset.autoplay === 'true' || options.autoplay;
                            const autoplayDelay = options.autoplayDelay || 4000;

                            function getSlidesToShow() {
                                const width = window.innerWidth;
                                if (width <= 480) return 1;
                                if (width <= 768) return 2;
                                return options.slidesToShow || 3;
                            }

                            function getGap() {
                                const gap = parseInt(getComputedStyle(track).gap);
                                return isNaN(gap) ? 0 : gap;
                            }

                            function getOffset() {
                                const slide = slides[0];
                                const slideWidth = slide.offsetWidth;
                                const gap = getGap();
                                return currentIndex * (slideWidth + gap);
                            }

                            function updateCarousel() {
                                const offset = getOffset();
                                track.style.transform = `translateX(-${offset}px)`;
                            }

                            function moveNext() {
                                const slidesToShow = getSlidesToShow();
                                if (currentIndex < slides.length - slidesToShow) {
                                    currentIndex++;
                                } else {
                                    currentIndex = 0;
                                }
                                updateCarousel();
                            }

                            function movePrev() {
                                const slidesToShow = getSlidesToShow();
                                if (currentIndex > 0) {
                                    currentIndex--;
                                } else {
                                    currentIndex = slides.length - slidesToShow;
                                }
                                updateCarousel();
                            }

                            function startAutoplay() {
                                if (autoplay) {
                                    clearInterval(autoplayInterval);
                                    autoplayInterval = setInterval(moveNext, autoplayDelay);
                                }
                            }

                            function stopAutoplay() {
                                if (autoplayInterval) clearInterval(autoplayInterval);
                            }

                            function setupEvents() {
                                prev?.addEventListener('click', () => {
                                    movePrev();
                                    startAutoplay();
                                });

                                next?.addEventListener('click', () => {
                                    moveNext();
                                    startAutoplay();
                                });

                                window.addEventListener('resize', () => {
                                    updateCarousel();
                                });
                            }

                            // Initialize
                            updateCarousel();
                            setupEvents();
                            startAutoplay();
                        }

                        // Auto-initialize all carousels
                        document.addEventListener('DOMContentLoaded', () => {
                            document.querySelectorAll('.carousel-wrapper').forEach(wrapper => {
                                initCarousel(wrapper, { slidesToShow: 3, autoplayDelay: 4000 });
                            });
                        });

                </script>

        </section>
      <TrackPageView key="support" />

</Layout>