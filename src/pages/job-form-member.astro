---
import Layout from '../layouts/Layout.astro'
import TrackPageView from '../components/TrackPageView.astro'
---

<Layout title="Job Form">
    <div class="wrapper paper">
<!-- Start Project Job Form – Men's Shed Townsville -->
<form id="ms-job-start-form" class="job-form" action="#" method="post" novalidate>
  <header class="grid form-header">
    <div class="l-9 m-8 s-12">
      <h1>Start Project / Job Form</h1>
      <p class="subtitle">Provide as much detail as possible so mentors can plan safely and efficiently.</p>
    </div>
    <div class="l-3 m-4 s-12">
      <div class="form-group">
        <label for="projectRef">Project Ref (auto)</label>
        <input id="projectRef" name="projectRef" type="text" placeholder="e.g., MST-2025-001" readonly>
        <small class="help">Generated by admin after submission</small>
      </div>
    </div>
  </header>

  <!-- Requester Details -->
  <fieldset class="section">
    <legend>Requester Details</legend>
    <div class="grid">
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="requesterName">Your full name <span aria-hidden="true">*</span></label>
          <input id="requesterName" name="requesterName" type="text" required>
        </div>
      </div>
      <div class="l-3 m-3 s-12">
        <div class="form-group">
          <label for="membershipId">Membership ID</label>
          <input id="membershipId" name="membershipId" type="text" inputmode="numeric" placeholder="e.g., 1234">
        </div>
      </div>
      <div class="l-3 m-3 s-12">
        <div class="form-group">
          <label for="role">Your role</label>
          <select id="role" name="role">
            <option value="member">Member</option>
            <option value="mentor">Mentor</option>
            <option value="committee">Committee</option>
            <option value="guest">Guest / Visitor</option>
          </select>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="email">Email <span aria-hidden="true">*</span></label>
          <input id="email" name="email" type="email" required>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="phone">Phone</label>
          <input id="phone" name="phone" type="tel" pattern="[0-9\\s+()\-]{8,}" placeholder="e.g., 04xx xxx xxx">
          <small class="help">Mobile preferred</small>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Project Overview -->
  <fieldset class="section">
    <legend>Project Overview</legend>
    <div class="grid">
      <div class="l-8 m-12 s-12">
        <div class="form-group">
          <label for="projectTitle">Project title <span aria-hidden="true">*</span></label>
          <input id="projectTitle" name="projectTitle" type="text" required placeholder="e.g., Community notice board refurbishment">
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="projectType">Type / Category <span aria-hidden="true">*</span></label>
          <select id="projectType" name="projectType" required>
            <option value="">Select…</option>
            <option>Timber Shed</option>
            <option>Metal Shed</option>
            <option>Art & Craft</option>
            <option>Electronics</option>
            <option>Maintenance</option>
            <option>Other</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="subcategory">Subcategory</label>
          <input id="subcategory" name="subcategory" type="text" list="subcats" placeholder="e.g., Benches & tables">
          <datalist id="subcats">
            <option>Benches & tables</option>
            <option>Garden beds & planter boxes</option>
            <option>Furniture repairs</option>
            <option>Metal brackets</option>
            <option>Signs & notice boards</option>
          </datalist>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="priority">Priority</label>
          <select id="priority" name="priority">
            <option>Low</option>
            <option>Normal</option>
            <option>High</option>
            <option>Urgent</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="difficulty">Estimated difficulty</label>
          <select id="difficulty" name="difficulty">
            <option>Beginner</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
        </div>
      </div>
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="goals">Objectives / success criteria</label>
          <textarea id="goals" name="goals" rows="3" placeholder="What does ‘done’ look like? Measurements, finish, delivery details…"></textarea>
        </div>
      </div>
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="description">Brief description</label>
          <textarea id="description" name="description" rows="5" placeholder="Describe the job, context, who it’s for, and any constraints."></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Schedule & Location -->
  <fieldset class="section">
    <legend>Schedule & Location</legend>
    <div class="grid">
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="startDate">Preferred start date</label>
          <input id="startDate" name="startDate" type="date">
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="dueDate">Requested completion date</label>
          <input id="dueDate" name="dueDate" type="date">
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="timeFlex">Time flexibility</label>
          <select id="timeFlex" name="timeFlex">
            <option>Flexible</option>
            <option>Weekdays only</option>
            <option>Weekends only</option>
            <option>Specific dates (see notes)</option>
          </select>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="workArea">Work area</label>
          <select id="workArea" name="workArea">
            <option>Timber Shed</option>
            <option>Metal Shed</option>
            <option>Paint / Finishing</option>
            <option>Electronics / Bench</option>
            <option>Outdoor area</option>
          </select>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="bench">Bench / station (if known)</label>
          <input id="bench" name="bench" type="text" placeholder="e.g., Timber bench 3">
        </div>
      </div>
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="scheduleNotes">Scheduling notes</label>
          <textarea id="scheduleNotes" name="scheduleNotes" rows="3" placeholder="Blackout times, noise restrictions, shared machine bookings, etc."></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Materials -->
  <fieldset class="section">
    <legend>Materials</legend>
    <div class="grid">
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="materialsOnHand">Materials on hand</label>
          <textarea id="materialsOnHand" name="materialsOnHand" rows="3" placeholder="What you already have (species/grade, sizes, quantities)"></textarea>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="materialsToPurchase">Materials to purchase</label>
          <textarea id="materialsToPurchase" name="materialsToPurchase" rows="3" placeholder="List items, dimensions, cut list if known"></textarea>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="supplierPrefs">Preferred suppliers</label>
          <input id="supplierPrefs" name="supplierPrefs" type="text" placeholder="e.g., Bunnings, local timber yard">
        </div>
      </div>
      <div class="l-4 m-3 s-12">
        <div class="form-group">
          <label for="materialBudget">Material budget (AUD)</label>
          <input id="materialBudget" name="materialBudget" type="number" inputmode="decimal" min="0" step="0.01" placeholder="0.00">
        </div>
      </div>
      <div class="l-4 m-3 s-12">
        <div class="form-group">
          <label for="fundingSource">Funding source</label>
          <select id="fundingSource" name="fundingSource">
            <option>Member-funded</option>
            <option>Donation</option>
            <option>Commission / Client</option>
            <option>Men’s Shed budget</option>
            <option>Sponsor</option>
          </select>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Tools & Machines -->
  <fieldset class="section">
    <legend>Tools & Machines</legend>
    <div class="grid">
      <div class="l-6 m-12 s-12">
        <div class="form-group">
          <label for="machinesNeeded">Machines required</label>
          <textarea id="machinesNeeded" name="machinesNeeded" rows="3" placeholder="e.g., Table saw, bandsaw, MIG welder, drill press, thicknesser"></textarea>
        </div>
      </div>
      <div class="l-6 m-12 s-12">
        <div class="form-group">
          <label for="toolingNotes">Tooling / jigs / bits</label>
          <textarea id="toolingNotes" name="toolingNotes" rows="3" placeholder="Blades, router bits, sanding grits, clamps, special jigs"></textarea>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="trainingVerified">Training / competency verified?</label>
          <select id="trainingVerified" name="trainingVerified">
            <option>Yes – certified / inducted</option>
            <option>No – require mentor supervision</option>
            <option>Not applicable</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="supervisor">Proposed supervisor / mentor</label>
          <input id="supervisor" name="supervisor" type="text" placeholder="Name (if known)">
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="machineBookings">Machine booking needs</label>
          <input id="machineBookings" name="machineBookings" type="text" placeholder="e.g., 2 hours on Saturday AM">
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Safety & Risk -->
  <fieldset class="section">
    <legend>Safety & Risk Assessment</legend>
    <div class="grid">
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label>Potential hazards (select all that apply)</label>
          <div class="grid">
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="dust"> Dust</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="noise"> Noise</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="fumes"> Fumes / solvents</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="sharp"> Sharp tools</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="hotwork"> Hot work / welding</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="electrical"> Electrical</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="lifting"> Heavy lifting</label></div>
            <div class="l-3 m-4 s-12"><label><input type="checkbox" name="hazards" value="other"> Other</label></div>
          </div>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="ppe">PPE required</label>
          <input id="ppe" name="ppe" type="text" placeholder="Glasses, ear protection, mask, gloves, apron">
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="riskLevel">Risk level</label>
          <select id="riskLevel" name="riskLevel">
            <option>Low</option>
            <option>Medium</option>
            <option>High</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="riskControls">Risk controls in place</label>
          <input id="riskControls" name="riskControls" type="text" placeholder="Guards, extraction, RCD, buddy system, etc.">
        </div>
      </div>
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="safetyNotes">Safety notes / JSA link</label>
          <textarea id="safetyNotes" name="safetyNotes" rows="3" placeholder="Paste a link to a Job Safety Analysis (JSA) or describe procedures."></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Client / Recipient (if any) -->
  <fieldset class="section">
    <legend>Client / Recipient (if applicable)</legend>
    <div class="grid">
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="clientName">Client / recipient name</label>
          <input id="clientName" name="clientName" type="text" placeholder="Person or organisation">
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="clientContact">Contact details</label>
          <input id="clientContact" name="clientContact" type="text" placeholder="Email / phone">
        </div>
      </div>
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="deliveryDetails">Delivery / collection details</label>
          <textarea id="deliveryDetails" name="deliveryDetails" rows="3" placeholder="Address, access times, delivery vehicle needs, packaging"></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Media & Permissions -->
  <fieldset class="section">
    <legend>Media & Permissions</legend>
    <div class="grid">
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label>Permission to photograph project for website / social</label>
          <div>
            <label><input type="radio" name="mediaConsent" value="yes"> Yes</label>
            <label><input type="radio" name="mediaConsent" value="no"> No</label>
          </div>
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="creditLine">How should we credit?</label>
          <input id="creditLine" name="creditLine" type="text" placeholder="e.g., Built by Men's Shed Townsville">
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Uploads -->
  <fieldset class="section">
    <legend>Uploads</legend>
    <div class="grid">
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="drawingUpload">Drawings / sketches</label>
          <input id="drawingUpload" name="drawingUpload" type="file" accept="image/*,application/pdf">
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="bomUpload">Bill of Materials (BOM)</label>
          <input id="bomUpload" name="bomUpload" type="file" accept=".csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="riskUpload">Risk assessment (optional)</label>
          <input id="riskUpload" name="riskUpload" type="file" accept="application/pdf">
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Approvals & Sign-off -->
  <fieldset class="section">
    <legend>Approvals & Sign-off</legend>
    <div class="grid">
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="requesterSignature">Requester signature (type name)</label>
          <input id="requesterSignature" name="requesterSignature" type="text" placeholder="Your name">
        </div>
      </div>
      <div class="l-6 m-6 s-12">
        <div class="form-group">
          <label for="requestDate">Date</label>
          <input id="requestDate" name="requestDate" type="date">
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="mentorApproval">Mentor approval</label>
          <select id="mentorApproval" name="mentorApproval">
            <option>Pending</option>
            <option>Approved</option>
            <option>Changes requested</option>
            <option>Declined</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-6 s-12">
        <div class="form-group">
          <label for="committeeApproval">Committee approval</label>
          <select id="committeeApproval" name="committeeApproval">
            <option>Not required</option>
            <option>Pending</option>
            <option>Approved</option>
            <option>Declined</option>
          </select>
        </div>
      </div>
      <div class="l-4 m-12 s-12">
        <div class="form-group">
          <label for="approverNotes">Approver notes</label>
          <input id="approverNotes" name="approverNotes" type="text" placeholder="Internal notes">
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Final Notes -->
  <fieldset class="section">
    <legend>Additional Notes</legend>
    <div class="grid">
      <div class="l-12 m-12 s-12">
        <div class="form-group">
          <label for="extraNotes">Anything else we should know?</label>
          <textarea id="extraNotes" name="extraNotes" rows="4"></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <!-- Submit -->
  <div class="grid form-actions">
    <div class="l-6 m-6 s-12">
      <div class="form-group">
        <label><input type="checkbox" name="confirmAccuracy" required> I confirm the information provided is accurate to the best of my knowledge.</label>
      </div>
    </div>
    <div class="l-6 m-6 s-12">
      <div class="form-group" style="text-align:right">
        <button type="reset" class="btn btn-secondary">Clear</button>
        <button type="submit" class="btn btn-primary">Submit request</button>
      </div>
    </div>
  </div>
</form>

<!-- Optional accessibility hint: indicate required fields for screen readers -->
<div class="sr-only" aria-hidden="false">Fields marked with * are required.</div>

 </div>
 <TrackPageView key="job-form-member" />
</Layout>